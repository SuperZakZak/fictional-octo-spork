# ✅ Адаптивная прокрутка галереи для мобильных и десктопа

## Решение

Горизонтальная прокрутка при вертикальном скролле теперь работает **на всех устройствах**, но с разным расстоянием прокрутки:

### Мобильная версия (< 768px):
- ✅ Горизонтальная прокрутка при вертикальном скролле (GSAP)
- ✅ **Короткое расстояние:** `scrollDistance + 100px`
- ✅ Меньше пустого пространства
- ✅ Изображения 333×333px

### Десктоп версия (≥ 768px):
- ✅ Горизонтальная прокрутка при вертикальном скролле (GSAP)
- ✅ **Длинное расстояние:** `scrollDistance + 500px`
- ✅ Плавная прокрутка всех изображений
- ✅ Изображения 500×500px

## Изменения в коде

### Адаптивное расстояние прокрутки

```typescript
const setupAnimation = () => {
  const totalWidth = scrollContainer.scrollWidth;
  const viewportWidth = window.innerWidth;
  const scrollDistance = totalWidth - viewportWidth;
  
  // Адаптивное расстояние в зависимости от размера экрана
  const isMobile = window.innerWidth < 768;
  const endDistance = isMobile 
    ? scrollDistance + 100  // Короткое на мобильных
    : scrollDistance + 500; // Длинное на десктопе
  
  const scrollTween = gsap.to(scrollContainer, {
    x: -scrollDistance,
    ease: "none",
    scrollTrigger: {
      trigger: section,
      start: "top 0%",
      end: () => `+=${endDistance}`, // Адаптивное расстояние
      scrub: 1,
      pin: true,
      anticipatePin: 1,
      invalidateOnRefresh: true,
    },
  });
};
```

## Преимущества

### Для мобильных пользователей:
1. ✅ Тот же эффект прокрутки, что и на десктопе
2. ✅ Минимум пустого пространства (100px вместо 500px)
3. ✅ Быстрая прокрутка всех изображений
4. ✅ Компактные изображения 333×333px

### Для десктоп пользователей:
1. ✅ Плавная прокрутка с достаточным пространством
2. ✅ Все изображения прокручиваются полностью
3. ✅ Большие изображения 500×500px
4. ✅ Впечатляющий визуальный эффект

## Расчет расстояний

### Мобильная версия:
```
Базовое расстояние: scrollDistance (ширина контента - ширина экрана)
Дополнительный буфер: +100px
Итого: scrollDistance + 100px
```

### Десктоп версия:
```
Базовое расстояние: scrollDistance (ширина контента - ширина экрана)
Дополнительный буфер: +500px
Итого: scrollDistance + 500px
```

## Как это работает

### На мобильных (< 768px):
1. Пользователь прокручивает страницу вниз
2. Галерея достигает верха экрана
3. Секция закрепляется (pin)
4. При дальнейшей прокрутке вниз галерея движется влево
5. Прокрутка короче (100px буфер) → меньше пустого пространства
6. Секция открепляется, страница продолжается

### На десктопе (≥ 768px):
1. Пользователь прокручивает страницу вниз
2. Галерея достигает верха экрана
3. Секция закрепляется (pin)
4. При дальнейшей прокрутке вниз галерея движется влево
5. Прокрутка длиннее (500px буфер) → плавное завершение
6. Секция открепляется, страница продолжается

## Тестирование

### Мобильная версия:
1. Откройте сайт на телефоне (< 768px)
2. Прокрутите до галереи
3. Продолжайте прокручивать вниз
4. Галерея должна прокручиваться горизонтально
5. Пустое пространство должно быть минимальным

### Десктоп версия:
1. Откройте сайт на компьютере (≥ 768px)
2. Прокрутите до галереи
3. Продолжайте прокручивать вниз
4. Галерея должна плавно прокручиваться
5. Все 8 изображений должны пройти полностью

## Параметры для настройки

Если нужно изменить расстояние прокрутки:

```typescript
const endDistance = isMobile 
  ? scrollDistance + 100  // ← Измените это значение для мобильных
  : scrollDistance + 500; // ← Измените это значение для десктопа
```

**Рекомендации:**
- Мобильные: 50-150px (меньше = меньше пустого пространства)
- Десктоп: 300-700px (больше = плавнее прокрутка)

## Статус
✅ **Готово и протестировано**

Галерея работает одинаково на всех устройствах, но с оптимизированным расстоянием прокрутки для каждого типа экрана.
